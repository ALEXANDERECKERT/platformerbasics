namespace SpriteKind {
    export const vehicle = SpriteKind.create()
    export const coin = SpriteKind.create()
}
scene.onOverlapTile(SpriteKind.Player, sprites.dungeon.hazardLava0, function (sprite, location) {
    game.over(false)
})
scene.onOverlapTile(SpriteKind.Player, sprites.dungeon.chestClosed, function (sprite, location) {
    info.changeScoreBy(info.countdown())
    game.over(true, effects.starField)
})
sprites.onOverlap(SpriteKind.Player, SpriteKind.Projectile, function (sprite, otherSprite) {
    game.over(false)
})
sprites.onOverlap(SpriteKind.Player, SpriteKind.vehicle, function (sprite, otherSprite) {
    mySprite3.destroy()
    mySprite.setImage(img`
        . . . . . . . e e e e e . . . . 
        . . . . . e e 2 2 2 2 2 e . . . 
        . . . . e e 2 2 2 2 2 2 2 e . . 
        . . . . e 9 4 4 4 2 2 2 4 b e . 
        . . e e 9 9 4 4 4 4 2 2 4 9 b e 
        . e 2 2 9 9 4 4 4 4 4 2 4 9 9 e 
        e 2 2 2 9 9 2 4 4 4 4 4 2 9 9 e 
        e 2 2 2 9 9 e e e e e e e 9 9 e 
        e 2 2 2 9 b e b b b e b e b 9 e 
        e 2 e e e e b b b b e b b e b e 
        e e 3 3 e e 2 2 2 2 e 2 2 e e e 
        e 3 3 e e e e e e e e e e e e e 
        e e e e e e e e e e e e e e e e 
        e e e e f f f e e e e f f f e e 
        . e e f f f b f e e f f f b f . 
        . . . . c b b . . . . c b b . . 
        `)
    controller.moveSprite(mySprite, 200, 200)
})
sprites.onOverlap(SpriteKind.Player, SpriteKind.coin, function (sprite, otherSprite) {
    info.changeScoreBy(10)
    otherSprite.destroy()
})
let projectile: Sprite = null
let mySprite: Sprite = null
let mySprite3: Sprite = null
info.startCountdown(60)
music.play(music.createSong(hex`00780004080a0100001c00010a006400f401640000040000000000000000000000000005000004f60000000400011d04000800011d0c001000011d14001800011918002000011d2000280001203000380001144000480001194c00500001145800600001116400680001166c007000011874007800011678007c0001147c008000011484008c00011d8c009400012094009c0001229c00a000011ea000a4000120a800ac00011db000b4000119b800bc00011dbc00c0000118d000d4000120d400d8000120d800dc00011edc00e000011be400e800011dec00f0000114f400f8000116f800fc000119fc000001011b08010c0101200c011001012010011401011e14011801011b1c012001011d2401280101252c0130010125300134010125`), music.PlaybackMode.LoopingInBackground)
tiles.setCurrentTilemap(tilemap`level1`)
let mySprite4 = sprites.create(img`
    . . . . . . . . . . . . . . . . 
    . . . . . 5 5 5 5 5 5 5 . . . . 
    . . . . 5 5 5 5 5 5 5 5 5 . . . 
    . . . 5 5 5 5 5 5 f 5 5 5 5 . . 
    . . 5 5 5 5 5 5 f f f 5 5 5 5 . 
    . . 5 5 5 5 5 f 5 f 5 f 5 5 5 . 
    . . 5 5 5 5 5 f 5 f 5 5 5 5 5 . 
    . . 5 5 5 5 5 f 5 f 5 5 5 5 5 . 
    . . 5 5 5 5 5 5 f f f 5 5 5 5 . 
    . . 5 5 5 5 5 5 5 f 5 f 5 5 5 . 
    . . 5 5 5 5 5 5 5 f 5 f 5 5 5 . 
    . . . 5 5 5 5 f 5 f 5 f 5 5 . . 
    . . . . 5 5 5 5 f f f 5 5 . . . 
    . . . . . 5 5 5 5 f 5 5 . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    `, SpriteKind.coin)
mySprite4.setPosition(77, 77)
mySprite4 = sprites.create(img`
    . . . . . . . . . . . . . . . . 
    . . . . . 5 5 5 5 5 5 5 . . . . 
    . . . . 5 5 5 5 5 5 5 5 5 . . . 
    . . . 5 5 5 5 5 5 f 5 5 5 5 . . 
    . . 5 5 5 5 5 5 f f f 5 5 5 5 . 
    . . 5 5 5 5 5 f 5 f 5 f 5 5 5 . 
    . . 5 5 5 5 5 f 5 f 5 5 5 5 5 . 
    . . 5 5 5 5 5 f 5 f 5 5 5 5 5 . 
    . . 5 5 5 5 5 5 f f f 5 5 5 5 . 
    . . 5 5 5 5 5 5 5 f 5 f 5 5 5 . 
    . . 5 5 5 5 5 5 5 f 5 f 5 5 5 . 
    . . . 5 5 5 5 f 5 f 5 f 5 5 . . 
    . . . . 5 5 5 5 f f f 5 5 . . . 
    . . . . . 5 5 5 5 f 5 5 . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    `, SpriteKind.coin)
mySprite4.setPosition(77, 117)
mySprite4 = sprites.create(img`
    . . . . . . . . . . . . . . . . 
    . . . . . 5 5 5 5 5 5 5 . . . . 
    . . . . 5 5 5 5 5 5 5 5 5 . . . 
    . . . 5 5 5 5 5 5 f 5 5 5 5 . . 
    . . 5 5 5 5 5 5 f f f 5 5 5 5 . 
    . . 5 5 5 5 5 f 5 f 5 f 5 5 5 . 
    . . 5 5 5 5 5 f 5 f 5 5 5 5 5 . 
    . . 5 5 5 5 5 f 5 f 5 5 5 5 5 . 
    . . 5 5 5 5 5 5 f f f 5 5 5 5 . 
    . . 5 5 5 5 5 5 5 f 5 f 5 5 5 . 
    . . 5 5 5 5 5 5 5 f 5 f 5 5 5 . 
    . . . 5 5 5 5 f 5 f 5 f 5 5 . . 
    . . . . 5 5 5 5 f f f 5 5 . . . 
    . . . . . 5 5 5 5 f 5 5 . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    `, SpriteKind.coin)
let mySprite5 = sprites.create(img`
    . . . . . . . . . . . . . . . . 
    . . . . . 5 5 5 5 5 5 5 . . . . 
    . . . . 5 5 5 5 5 5 5 5 5 . . . 
    . . . 5 5 5 5 5 5 f 5 5 5 5 . . 
    . . 5 5 5 5 5 5 f f f 5 5 5 5 . 
    . . 5 5 5 5 5 f 5 f 5 f 5 5 5 . 
    . . 5 5 5 5 5 f 5 f 5 5 5 5 5 . 
    . . 5 5 5 5 5 f 5 f 5 5 5 5 5 . 
    . . 5 5 5 5 5 5 f f f 5 5 5 5 . 
    . . 5 5 5 5 5 5 5 f 5 f 5 5 5 . 
    . . 5 5 5 5 5 5 5 f 5 f 5 5 5 . 
    . . . 5 5 5 5 f 5 f 5 f 5 5 . . 
    . . . . 5 5 5 5 f f f 5 5 . . . 
    . . . . . 5 5 5 5 f 5 5 . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    `, SpriteKind.coin)
mySprite5.setPosition(225, 180)
mySprite4.setPosition(150, 150)
mySprite3 = sprites.create(img`
    . . . . . . . e e e e e . . . . 
    . . . . . e e 2 2 2 2 2 e . . . 
    . . . . e e 2 2 2 2 2 2 2 e . . 
    . . . . e 9 4 4 4 2 2 2 4 b e . 
    . . e e 9 9 4 4 4 4 2 2 4 9 b e 
    . e 2 2 9 9 4 4 4 4 4 2 4 9 9 e 
    e 2 2 2 9 9 2 4 4 4 4 4 2 9 9 e 
    e 2 2 2 9 9 e e e e e e e 9 9 e 
    e 2 2 2 9 b e b b b e b e b 9 e 
    e 2 e e e e b b b b e b b e b e 
    e e 3 3 e e 2 2 2 2 e 2 2 e e e 
    e 3 3 e e e e e e e e e e e e e 
    e e e e e e e e e e e e e e e e 
    e e e e f f f e e e e f f f e e 
    . e e f f f b f e e f f f b f . 
    . . . . c b b . . . . c b b . . 
    `, SpriteKind.vehicle)
mySprite3.setPosition(12, 16)
mySprite = sprites.create(img`
    ........................
    .....ffff...............
    ...fff22fff.............
    ..fff2222fff............
    .fffeeeeeefff...........
    .ffe222222eef...........
    .fe2ffffff2ef...........
    .ffffeeeeffff...........
    ffefbf44fbfeff..........
    fee41fddf14eef..........
    .ffffdddddeef...........
    fddddf444eef............
    fbbbbf2222f4e...........
    fbbbbf2222fd4...........
    .fccf45544f44...........
    ..ffffffff..............
    ....ff..ff..............
    ........................
    ........................
    ........................
    ........................
    ........................
    ........................
    ........................
    `, SpriteKind.Player)
controller.moveSprite(mySprite)
scene.cameraFollowSprite(mySprite)
let mySprite2 = sprites.create(img`
    ........................
    ........................
    ........................
    ........................
    ..........ffff..........
    ........ff1111ff........
    .......fb111111bf.......
    .......f11111111f.......
    ......fd11111111df......
    ......fd11111111df......
    ......fddd1111dddf......
    ......fbdbfddfbdbf......
    ......fcdcf11fcdcf......
    .......fb111111bf.......
    ......fffcdb1bdffff.....
    ....fc111cbfbfc111cf....
    ....f1b1b1ffff1b1b1f....
    ....fbfbffffffbfbfbf....
    .........ffffff.........
    ...........fff..........
    ........................
    ........................
    ........................
    ........................
    `, SpriteKind.Enemy)
let mySprite6 = sprites.create(img`
    ........................
    ........................
    ........................
    ........................
    ..........ffff..........
    ........ff1111ff........
    .......fb111111bf.......
    .......f11111111f.......
    ......fd11111111df......
    ......fd11111111df......
    ......fddd1111dddf......
    ......fbdbfddfbdbf......
    ......fcdcf11fcdcf......
    .......fb111111bf.......
    ......fffcdb1bdffff.....
    ....fc111cbfbfc111cf....
    ....f1b1b1ffff1b1b1f....
    ....fbfbffffffbfbfbf....
    .........ffffff.........
    ...........fff..........
    ........................
    ........................
    ........................
    ........................
    `, SpriteKind.Enemy)
let mySprite7 = sprites.create(img`
    ........................
    ........................
    ........................
    ........................
    ..........ffff..........
    ........ff1111ff........
    .......fb111111bf.......
    .......f11111111f.......
    ......fd11111111df......
    ......fd11111111df......
    ......fddd1111dddf......
    ......fbdbfddfbdbf......
    ......fcdcf11fcdcf......
    .......fb111111bf.......
    ......fffcdb1bdffff.....
    ....fc111cbfbfc111cf....
    ....f1b1b1ffff1b1b1f....
    ....fbfbffffffbfbfbf....
    .........ffffff.........
    ...........fff..........
    ........................
    ........................
    ........................
    ........................
    `, SpriteKind.Enemy)
mySprite6.setVelocity(75, 0)
mySprite7.setVelocity(75, 0)
mySprite7.setPosition(170, 220)
mySprite6.setPosition(126, 109)
mySprite2.setVelocity(0, 50)
mySprite2.setPosition(200, 100)
forever(function () {
    projectile = sprites.createProjectileFromSprite(img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . 2 2 . . . . . . . 
        . . . . . . 3 1 1 3 . . . . . . 
        . . . . . 2 1 1 1 1 2 . . . . . 
        . . . . . 2 1 1 1 1 2 . . . . . 
        . . . . . . 3 1 1 3 . . . . . . 
        . . . . . . . 2 2 . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        `, mySprite2, mySprite.x - mySprite2.x, mySprite.y - mySprite2.y)
    projectile = sprites.createProjectileFromSprite(img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . 2 2 . . . . . . . 
        . . . . . . 3 1 1 3 . . . . . . 
        . . . . . 2 1 1 1 1 2 . . . . . 
        . . . . . 2 1 1 1 1 2 . . . . . 
        . . . . . . 3 1 1 3 . . . . . . 
        . . . . . . . 2 2 . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        `, mySprite7, mySprite.x - mySprite7.x, mySprite.y - mySprite7.y)
    music.rest(music.beat(BeatFraction.Whole))
    projectile = sprites.createProjectileFromSprite(img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . 2 2 . . . . . . . 
        . . . . . . 3 1 1 3 . . . . . . 
        . . . . . 2 1 1 1 1 2 . . . . . 
        . . . . . 2 1 1 1 1 2 . . . . . 
        . . . . . . 3 1 1 3 . . . . . . 
        . . . . . . . 2 2 . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        `, mySprite6, mySprite.x - mySprite6.x, mySprite.y - mySprite6.y)
})
forever(function () {
    mySprite2.setVelocity(0, mySprite2.vy * -1)
    mySprite6.setVelocity(mySprite6.vx * -1, 0)
    mySprite7.setVelocity(mySprite7.vx * -1, 0)
    music.rest(music.beat(BeatFraction.Half))
})
